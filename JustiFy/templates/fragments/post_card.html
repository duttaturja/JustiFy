<div class="bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden">
  <a href="{% url 'crime:post_detail' post.pk %}">
    {% if post.image %}
      <img src="{{ post.image.url }}" alt="{{ post.title }}" class="w-full h-48 object-cover">
    {% endif %}
    <div class="p-4">
      <h2 class="text-xl font-semibold mb-2">{{ post.title }}</h2>
      <p class="text-gray-600 dark:text-gray-400 mb-2">{{ post.description|truncatewords:20 }}</p>
      <p class="text-sm text-gray-500 dark:text-gray-400">Posted on: {{ post.post_time|date:"M d, Y H:i" }}</p>
    </div>
  </a>
  <div class="px-4 py-2 flex justify-between items-center border-t border-gray-200 dark:border-gray-700">
    <div class="flex space-x-4">
      <!-- Upvote Button -->
      <button 
      onclick="location.href='{% url 'crime:vote_post' post.pk 'up' %}'" 
      class="focus:outline-none" 
      title="Upvote"
      >
      <span class="material-icons text-green-500">thumb_up</span>
      </button>

      <!-- Downvote Button -->
      <button 
      onclick="location.href='{% url 'crime:vote_post' post.pk 'down' %}'" 
      class="focus:outline-none" 
      title="Downvote"
      >
      <span class="material-icons text-red-500">thumb_down</span>
      </button>
    </div>
    <div class="flex flex-col items-end">
      {% if post.upvote_count %}
        <span class="text-sm text-green-500">{{ post.upvote_count }}</span>
      {% endif %}
      {% if post.downvote_count %}
        <span class="text-sm text-red-500">{{ post.downvote_count }}</span>
      {% endif %}
    </div>
  </div>
</div>
